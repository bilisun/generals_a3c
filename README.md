# generals_a3c
This repository contains code to simulate generals.io games and to train both policy networks
and actor critic networks(asynchronously) to play generals.io.

It supports:
1. Simulation of gioreplay files.
2. Client to play online generals.io games.
3. Virtual simulation of generals.io games with autogenerated boards.
4. Dataset generation.
5. Code to train a convolutional policy network on generated dataset.
6. OpenAI Gym like environment to interact with generals game
7. Code for A3C convolutional network training on generals.io game. 

Link of convolutional policy network playing [generals.io](http://bot.generals.io/replays/Be0wkw2t-)

## Generals Dataset Generation

To generate a labeled supervised move dataset to train policy networks run the following commands:

* First download and unzip online database of files found [here](http://dev.generals.io/replays).
* After downloading database run generate_data.py which will generate datasets data_x.npy, data_y.npy, data_z.npy
```
usage: generate_data.py [-h] [--processes PROCESSES] [--data DATA]
                        [--stars STARS] [--players PLAYERS]

optional arguments:
  -h, --help            show this help message and exit
  --processes PROCESSES
  --data DATA           directory where the gioreplay files are stored
  --stars STARS         threshold for stars to parse games from
  --players PLAYERS     number of players needed so that we parse game from
```

